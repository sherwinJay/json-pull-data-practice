<!DOCTYPE html>
<html>
<head>
	<title>React Practice</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<script
  src="https://code.jquery.com/jquery-2.1.4.js"
  integrity="sha256-siFczlgw4jULnUICcdm9gjQPZkw/YPDqhQ9+nAOScE4="
  crossorigin="anonymous"></script>
	<script>
	$(document).ready(function(){
		/**$.ajax({
			url: "toDoList.json",
			method: 'GET',
			success: function(response){
				console.log(response.taskNote);
				let listContainer = document.querySelector(".main"),
					dataList = "";
					
					let lists = response;
					lists.map((item) => {
						return  item.taskNote.map( (idx) => {
							return dataList += "<li>" + "<div>" + idx + "</div>" + "</li>";
						});
					});
				//for(let i = 0; i < lists.length; i++ ){
				//		dataList += "<li>" + lists[i].taskNote + "</li>";
				//	}
				//	dataList += "</ul>" ;
				listContainer.innerHTML = dataList;	
			}
		});**/
	let gameContainer = document.getElementsByClassName("game-img");	
    function getAPI(){
      let arrAPI = [];
    fetch("https://player.onestop.t1t.in/pub/get_frontend_games/1008")
		      .then(response => response.json())
		      .then(gameNames => { 
            let fetchName = gameNames;
            let arr = [];
           
            fetchName.game_list.map((gNames) => {
              let obj = {};
		obj[gNames.game_id_desktop] = {};
		    let obj2 = obj[gNames.game_id_desktop]; 
             
        obj2.game_name_en = gNames.game_name_en;
	obj2.game_name_cn = gNames.game_name_cn;
            //console.log(gNames.game_name_en);
            // console.log(obj);
            arr.push(obj)
             //console.log(gNames.game_name_en);
           
             
              //  // if(gNames.game_id_desktop == idx.id ){
              //     if(path == "en"){
              //     console.log(gNames.game_name_en);
              //     }else if(path == "cn"){
              //       console.log(gNames.game_name_cn);
              //     }
              // //  }
                
              arrAPI[gNames] = arr;
            });
          
          });
         return arrAPI;
       }
		
		      changeNames(getAPI());
    function changeNames( api ){
    [].forEach.call(gameContainer, idx => {
	    let pass = api;
	    console.log(pass);
	    pass.forEach( (jdx)=>{
	    	console.log(jdx.idx.id.game_name_cn);
	    
	    });
       // if(idx.src.charAt(51) == "/" ){
//         idx.src = idx.src.slice(0, 48) + path + idx.src.slice(51);
//         }else if( idx.src === "https://www.gamegateway.t1t.games/cdn/error.jpg" ){
//           idx.src = idx.src;
//         }else{
//         idx.src = idx.src.slice(0, 48) + path + idx.src.slice(49);
//         }       
      }); 
      
    }
		fetch("toDoList.json")
		.then(response => response.json())
		.then(title => { 
		let g = document.createElement('div');
			g.className = "Div1";
		console.log(g);

			let listContainer = document.querySelector(".main"),
				dataList = "",
				lists = title;

				lists.map((item) => {
					return  item.taskNote.map( (idx) => {
						return dataList += "<li>" + "<div>" + idx + "</div>" + "</li>";
					});
				}) 
				
			listContainer.innerHTML = dataList;	
		});
		//$.get('toDoList2.json', function(response){});
		
		$.get('toDoList2.json', function(response){
			let listContainer = document.querySelector(".main2"),
					dataList = "";
					
					let lists = response;
					lists.filter((idx) => {
						return idx.color === "blue" && idx.body === "1";
					}).map((item) => {
						return  dataList += `<li> <div> ${item.title} </div> </li>`;
					});
				listContainer.innerHTML = dataList;	
		});
		/**$.ajax({
			url: "toDoList2.json",
			method: 'GET',
			success: function(response){
				console.log(response.taskNote);
				let listContainer = document.querySelector(".main2"),
					dataList = "";
					
					let lists = response;
					lists.filter((idx) => {
						return idx.color === "blue" && idx.body === "1";
					}).map((item) => {
						return  dataList += "<li>" + "<div>" + item.title + "</div>" + "</li>";
					});
				listContainer.innerHTML = dataList;	
			}
		});**/
		
		
	});
	</script>
  <script>console.time("app")</script>
</head>
<body>
		<ul class="main">
			
		</ul>
		<ul class="main2">
			
		</ul>
		<div class="games-list clearfix games-container" id="gamelists">

    <!--GAME API GOES HERE-->

  <div class="col-md-3 game-slot-container all-games slots  fixed_odds" data-category="fixed_odds">
   <div id="gtsru" class="game-slot-overlay-container">
      <p class="gameName">魔方财富</p>
      <div class="game_favorite">
         FAVORITE<button class="fav-button" onclick="favorite(this)" data-name="灌篮大师" data-image="http://gamegateway.t1t.games/includes/images/dt/sd.png" alt="灌篮大师" data-url="/iframe_module/goto_t1games/1023/sd/real"></button>
      </div>
      <div class="game-slot-buttons">
         <a href="/player_center/goto_t1games/1002/gtsru/real" target="_blank" class="playnow">开始游戏</a>
         <a href="/player_center/goto_t1games/1002/gtsru/fun" target="_blank" class="trial">免费试玩</a>
      </div>
   </div>
   <a>
   <img class="game-img" src="http://www.gamegateway.t1t.games/includes/images/cn/playtech/gtsru.jpg" onerror="this.onerror=null;this.src='https://www.gamegateway.t1t.games/cdn/error.jpg';">
   </a>
</div><div class="col-md-3 game-slot-container all-games slots  fixed_odds" data-category="fixed_odds">
   <div id="gtscb" class="game-slot-overlay-container">
      <p class="gameName">现金魔块</p>
      <div class="game_favorite">
         FAVORITE<button class="fav-button" onclick="favorite(this)" data-name="灌篮大师" data-image="http://gamegateway.t1t.games/includes/images/dt/sd.png" alt="灌篮大师" data-url="/iframe_module/goto_t1games/1023/sd/real"></button>
      </div>
      <div class="game-slot-buttons">
         <a href="/player_center/goto_t1games/1002/gtscb/real" target="_blank" class="playnow">开始游戏</a>
         <a href="/player_center/goto_t1games/1002/gtscb/fun" target="_blank" class="trial">免费试玩</a>
      </div>
   </div>
   <a>
   <img class="game-img" src="http://www.gamegateway.t1t.games/includes/images/cn/playtech/gtscb.jpg" onerror="this.onerror=null;this.src='https://www.gamegateway.t1t.games/cdn/error.jpg';">
   </a>
</div></div>

	
		
</body>
</html>
